<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <title>Rock! Paper! Scissors!</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Permanent+Marker&display=swap" rel="stylesheet"> 
</head>
<body>
    <h1>Rock, Paper, Scissors!</h1>
    <p>Try to beat the computer. First person to 5 points wins!</p>
    <br />
    <br />
    <br />
    <br />
    <div id="score-div">
            <span id="player">Player</span>
            <span id="computer">Computer</span>
            <br />
            <br />
            <span  class="number"id="playerScore">0</span>
            <span class="number"id="computerScore">0</span>
        
    </div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />

    <div><h3>Choose your weapon:</h3></div>
    
    <div id="button-div">
        <button id="rock"><img id="rock-img" src="/rock.png"></button>
        <button id="paper"><img id="paper-img"src="/paper.png"></button>
        <button id="scissors"><img id="scissors-img"src="/scissors.png"></button>
    </div>
    <br />
    <br />
    <div id="results"></div>

</body>
<script>

    let playerScore = 0
    let computerScore = 0
    
    var buttons = document.querySelectorAll('button')
    buttons.forEach((button) => {
        button.addEventListener('click',(e) =>{
            
            var playerSelection = button.id
            var div = document.querySelector('#results')

            var p = document.createElement('p')
            p.classList.add('content')
            p.textContent = playRound(button.id,computerPlay())
            div.innerHTML = " "
            div.appendChild(p)

            var player_Score = document.querySelector('#playerScore')
            player_Score.classList.add('content')
            player_Score.textContent = playerScore

            var computer_Score = document.querySelector('#computerScore')
            computer_Score.classList.add('content')
            computer_Score.textContent = computerScore
            if(playerScore === 5 && computerScore === 5){
                alet("It's a Draw!")
                location.reload()
            }
            if(playerScore === 5){
                alert("You Win!")
                location.reload()
            }
            else if(computerScore === 5){
                alert("You Lose!")
                location.reload()
            }
        })
    });
    
    function computerPlay(){
        choices = ['rock','paper','scissors']
        return choices[Math.floor(Math.random()* 3)]
    }

    function playRound(playerSelection, computerSelection){
        var playerSelection = playerSelection.toLowerCase()
        if(playerSelection === 'rock' && computerSelection === 'paper'){
            computerScore++
            return `You lose! ${computerSelection} beats ${playerSelection}!`
        }
        else if(playerSelection === 'paper' && computerSelection === 'scissors'){
            computerScore++
            return `You lose! ${computerSelection} beats ${playerSelection}`
        }
        else if(playerSelection === 'scissors' && computerSelection === 'rock'){
            computerScore++
            return `You lose! ${computerSelection} beats ${playerSelection}`
        }
        else if(playerSelection === computerSelection){
            return `It's a tie!`
        }
        else{
            playerScore++
            return `You win! ${playerSelection} beats ${computerSelection}`
        }
    }
</script>